<div class="w-full pt-8 min-h-screen" data-controller='websocket-message' data-websocket-message-user-value='<%= current_user.id %>'>
<% if notice.present? %>
  <p class="py-2 px-3 bg-green-50 mb-5 text-green-500 font-medium rounded-lg inline-block" id="notice"><%= notice %></p>
<% end %>
  <h1 class="font-bold text-4xl fixed top-0 left-0 right-0 bg-white shadow-xl">Main Room</h1>
  <%= current_user.email %>
  <div class='overflow-auto py-8 mb-20'>
    <div id="messages" class="min-w-full overflow-auto " data-websocket-message-target='messages'>
      <%= render @messages %>
    </div>
  </div>

  <div class='bg-white fixed bottom-0 left-0 right-0 px-4'>
    <%= render "form", message: Message.new %>
  </div>
</div>

